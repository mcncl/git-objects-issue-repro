steps:
  - label: ':git: fetch'
    env:
      BUILDKITE_CLEAN_CHECKOUT: true
    plugins:
      - docker#v5.9.0:
          image: alpine/git
          mount-ssh-agent: true
          mount-buildkite-agent: true
          mount-checkout: false
          workdir: /workdir/example-contract
          command:
            - fetch
            - --verbose
            - origin 
            - +refs/heads/main:refs/remotes/origin/main
            - --tags
            - --force
          volumes:
            - .:/workdir
          environment:
            - BUILDKITE_BRANCH
